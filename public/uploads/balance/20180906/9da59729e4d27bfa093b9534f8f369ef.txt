{"appType":"workflow","width":700,"businessTypeId":10,"viewHtmlFileId":"118786fc0d05496b8c9e41f2b1ac19a5","status":1,"htmlFileId":"d22c5d4baf9944aab88714762f3fe68a","dbNameFlag":true,"height":350,"fullWidth":true,"baseFormId":null,"formId":141,"fields":[{"colNum":1,"signFields":null,"type":"loginUser","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"userId","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2989,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":1,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"姓名","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":2,"signFields":null,"type":"curDate","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"appTime","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2990,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":1,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"申请日期","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":1,"signFields":null,"type":"loginDepart","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"orgId","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2991,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":2,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"部门","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":2,"signFields":"","type":"dynamicAutoInput","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"dynamicAutoInput(userId)","remarks":"","computeFlag":true,"dbLen":null,"labelValue":"","dbFieldName":"position","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":0,"lenValue":"","fieldId":2992,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":2,"status":1,"formId":141,"relaSql":"SELECT GROUP_CONCAT(p.`name`) FROM oa_userposition up LEFT JOIN oa_position p ON up.positionId=p.id WHERE userId=:userId","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"职位","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":1,"signFields":null,"type":"selectDatetime","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"startTime","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2995,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":3,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"开始时间","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":2,"signFields":null,"type":"selectDatetime","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"endTime","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2996,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":3,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"结束时间","noprint":false,"colspan":3,"attachFiles":[]},{"colNum":1,"signFields":null,"type":"number","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":0,"labelValue":"","dbFieldName":"hours","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":null,"lenValue":"","fieldId":2994,"subType":"Commodity","lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"","rowNum":4,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"加班时长(小时)","noprint":false,"colspan":6,"attachFiles":[]},{"colNum":1,"signFields":"","type":"textarea","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":1024,"labelValue":"","dbFieldName":"content","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":0,"lenValue":"","fieldId":2997,"subType":null,"lableAlignValue":"left","id2NameSql":null,"titleFlag":true,"heightValue":"50","rowNum":5,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"加班事由","noprint":false,"colspan":6,"attachFiles":[]},{"colNum":1,"signFields":"","type":"checkOpinion","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"orgCheck","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":0,"lenValue":"","fieldId":2998,"subType":null,"lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"50","rowNum":6,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"部门审批","noprint":false,"colspan":6,"attachFiles":[]},{"colNum":1,"signFields":"","type":"checkOpinion","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"managerCheck","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":0,"lenValue":"","fieldId":2999,"subType":null,"lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"50","rowNum":7,"status":1,"formId":141,"relaSql":"","opinions":"","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"总经理审批","noprint":false,"colspan":6,"attachFiles":[]},{"colNum":1,"signFields":"","type":"checkOpinion","widthValue":"","listRows":null,"hidden":false,"selectValue":"","uniqueFlag":false,"computeExp":"","remarks":"","computeFlag":false,"dbLen":null,"labelValue":"","dbFieldName":"hrCheck","listDataSource":1,"listReadonlyCond":null,"notnull":false,"listInputFields":null,"baseFieldId":null,"signType":0,"lenValue":"","fieldId":3000,"subType":null,"lableAlignValue":"left","id2NameSql":null,"titleFlag":false,"heightValue":"50","rowNum":8,"status":1,"formId":141,"relaSql":"","opinions":"已归档","listFilterCond":null,"readOnly":false,"dbType":"string","defaultValue":"","fieldName":"人事归档","noprint":false,"colspan":6,"attachFiles":[]}],"lockHtml":null,"viewMbHtmlFileId":"2af86f09297448e7acf25812551d9794","indepOrg":null,"extFlag":false,"initFlag":true,"editFlag":false,"totalCols":6,"dbTableName":"f_overTimeApp","formName":"加班申请单","dispOrder":20,"formType":1,"remark":null,"mbHtmlFileId":"7ca2a5dda18b44199a92730ba385c3e8","extUrl":null,"businessType":{"editFlag":false,"businessTypeId":10,"businessTypeName":"人事类","dispOrder":1,"indepOrg":null,"status":1,"code":"","indepOrgId":null,"indepOrgName":""},"indepOrgId":null,"indepOrgName":""}

flowcommonco.php  extends admin.php{

public function __inritler
	//获取当前url
	$a = shigong /index /add
	$id = where(url,$a)->value('id');
	$a[] = FormTableModel::where('form_char',$form_char)->value('id');	
	$this->assign('list',FlowformlistModel::where(['pid'=>$id,'status'=>1])->order('row asc,col asc')->select());
		$this->assign('title',FormTableModel::where('id',$id)->value('title'));
		$this->assign('url',FormTableModel::where('id',$id)->value('form_url'));
		$this->assign('max',FlowformlistModel::where('pid',$id)->max('col'));
		

	
}






shigogn extends flowcommonco.php{
	functin add{
		return view('list');
}
}



